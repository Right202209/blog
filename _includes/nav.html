{% assign lang = page.lang | default: site.lang | default: "zh" %}
{% assign t = site.data.i18n.languages[lang] %}

<div class="wrapper-sidebar">
  <header class="sidebar clearfix">
    <div class="site-info">
      {% if site.avatar %}
        <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.avatar }}" /></a>
      {% endif %}
      <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
      <p class="site-description">{{ site.description }}</p>
    </div>
  </header>

  <div class="navlist">
    <nav>
      <a href="{{ site.baseurl }}/">{{ t.home }}</a>
      <a href="{{ site.baseurl }}/archive">{{ t.archive }}</a>
      <a href="{{ site.baseurl }}/tags">{{ t.tags }}</a>
    </nav>

    <div class="lang-switcher" style="margin-top: 20px; font-size: 0.9em; color: #888;">
      {% if lang == 'zh' %}
        <strong>中文</strong> | <a href="{{ site.baseurl }}/en/">English</a>
      {% else %}
        <a href="{{ site.baseurl }}/">中文</a> | <strong>English</strong>
      {% endif %}
    </div>
  </div>

  <div class="wrapper-footer-desktop">
    <footer class="footer">
      {% include footer.html %}
    </footer>
  </div>
</div>
